(function(e){function n(n){for(var r,s,c=n[0],i=n[1],l=n[2],d=0,p=[];d<c.length;d++)s=c[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&p.push(o[s][0]),o[s]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);u&&u(n);while(p.length)p.shift()();return a.push.apply(a,l||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],r=!0,c=1;c<t.length;c++){var i=t[c];0!==o[i]&&(r=!1)}r&&(a.splice(n--,1),e=s(s.s=t[0]))}return e}var r={},o={app:0},a=[];function s(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,s),t.l=!0,t.exports}s.m=e,s.c=r,s.d=function(e,n,t){s.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,n){if(1&n&&(e=s(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(s.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)s.d(t,r,function(n){return e[n]}.bind(null,r));return t},s.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(n,"a",n),n},s.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},s.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=n,c=c.slice();for(var l=0;l<c.length;l++)n(c[l]);var u=i;a.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d");var r=t("2b0e"),o=(t("d3b7"),t("bc3a")),a=t.n(o),s={},c=a.a.create(s);c.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),c.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),Plugin.install=function(e){e.axios=c,window.axios=c,Object.defineProperties(e.prototype,{axios:{get:function(){return c}},$axios:{get:function(){return c}}})},r["a"].use(Plugin);Plugin;var i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-app",[t("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[t("div",{staticClass:"d-flex align-center"},[t("v-btn",{attrs:{icon:""}},[t("v-icon",{attrs:{large:""}},[e._v("mdi-pill")])],1)],1),t("v-spacer"),t("v-btn",{attrs:{text:""},on:{click:e.showSearch}},[t("span",{staticClass:"mr-2"},[e._v("주소검색")]),t("v-icon",[e._v("mdi-magnify")])],1)],1),t("v-content",[t("v-container",{staticClass:"fill-height nopadding",attrs:{fluid:""}},[t("HelloWorld",{ref:"helloworld"})],1)],1)],1)},l=[],u=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"hello"},[t("v-snackbar",{attrs:{timeout:e.snacktimeout},model:{value:e.snackbar,callback:function(n){e.snackbar=n},expression:"snackbar"}},[e._v(" "+e._s(e.snacktext)+" "),t("v-btn",{attrs:{color:"blue",text:""},on:{click:function(n){e.snackbar=!1}}},[e._v(" Close ")])],1),t("vue-daum-map",{staticStyle:{width:"100%",height:"100%"},attrs:{appKey:e.appKey,center:e.center,level:e.level,mapTypeId:e.mapTypeId,libraries:e.libraries},on:{"update:center":function(n){e.center=n},"update:level":function(n){e.level=n},load:e.onLoad,dragend:e.boundChanged,zoom_changed:e.boundChanged,zoom_start:e.clearMarker,dragstart:e.clearMarker}}),t("v-fab-transition",[t("v-btn",{staticStyle:{"margin-bottom":"50px","margin-right":"10px"},attrs:{color:"primary",dark:"",medium:"",absolute:"",bottom:"",right:"",fab:""},on:{click:e.setCenterByGps}},[t("v-icon",[e._v("mdi-crosshairs-gps")])],1)],1),t("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.dialog,callback:function(n){e.dialog=n},expression:"dialog"}},[t("v-card",[t("v-toolbar",{attrs:{dark:"",color:"primary"}},[t("v-toolbar-title",[e._v("주소검색")]),t("v-spacer"),t("v-toolbar-items",[t("v-btn",{attrs:{dark:"",text:""},on:{click:function(n){e.dialog=!1}}},[e._v("닫기")])],1)],1),t("v-card-title",{staticClass:"headline"}),t("v-card-text",[t("div",{ref:"myid",attrs:{id:"wrap"}})])],1)],1)],1)},d=[],p=(t("99af"),t("4de4"),t("4160"),t("d81d"),t("b0c0"),t("25f0"),t("159b"),t("96cf"),t("1da1")),f=t("45b5"),g={name:"HelloWorld",components:{VueDaumMap:f["a"]},props:{msg:String},data:function(){return{dialog:!1,appKey:"6e16b4668499b16311fbc33b81219d01",center:{lat:37.567078186539334,lng:127.0072894973857},level:3,mapTypeId:f["a"].MapTypeId.NORMAL,libraries:["services","drawing"],map:null,geocoder:null,newURL:"",stores:[],lastAddress:"",markers:[],infoWindows:[],popupdiv:null,nowMarker:null,nowInfoWindows:null,cacheTime:null,snackbar:!1,snacktext:"판매점 데이터를 가지고 오는데 문제가 생겼습니다.(네트워크오류)",snacktimeout:2e3}},created:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log("url:"),e.newURL=window.location.protocol+"//"+window.location.host+"/"+window.location.pathname,e.geocoder=new kakao.maps.services.Geocoder,e.popupdiv=e.$refs["myid"];case 4:case"end":return n.stop()}}),n)})))()},mounted:function(){console.log(this.$refs["myid"])},methods:{onLoad:function(e){var n=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n.map=e,t.next=3,n.getBoundInfo(e);case 3:r=t.sent,console.log("bound:",r),n.setCenterByGps();case 6:case"end":return t.stop()}}),t)})))()},setCenterByGps:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function n(){var t,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=function(e){console.log("code: "+e.code+"\nmessage: "+e.message+"\n")},t=function(n){console.log("Latitude: "+n.coords.latitude+"\nLongitude: "+n.coords.longitude+"\nAltitude: "+n.coords.altitude+"\nAccuracy: "+n.coords.accuracy+"\nAltitude Accuracy: "+n.coords.altitudeAccuracy+"\nHeading: "+n.coords.heading+"\nSpeed: "+n.coords.speed+"\nTimestamp: "+n.timestamp+"\n"),console.log("map",e.map),console.log({lat:n.coords.latitude,lng:n.coords.longitude});var t=new kakao.maps.LatLng(n.coords.latitude,n.coords.longitude);e.setCenterByCoord(t,"현위치")},navigator.geolocation.getCurrentPosition(t,r);case 3:case"end":return n.stop()}}),n)})))()},delay:function(e){return Object(p["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){return setTimeout((function(){console.log(e),n()}),e)})));case 1:case"end":return n.stop()}}),n)})))()},setCenterByCoord:function(e,n){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function r(){var o,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:o=new kakao.maps.Marker({map:t.map,position:e}),t.nowMarker&&(t.nowMarker.setMap(null),t.nowMarker=null),t.nowMarker=o,a=new kakao.maps.InfoWindow({content:'<div style="width:150px;text-align:center;padding:6px 0;"><strong>'+n+"</strong></div>"}),t.nowInfoWindows&&(t.nowInfoWindows.close(),t.nowInfoWindows=null),a.open(t.map,o),t.nowInfoWindows=a,t.map.setCenter(e),t.boundChanged();case 9:case"end":return r.stop()}}),r)})))()},showAddress:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function n(){var t,r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:console.log("dddd"),e.dialog=!0,t=0;case 3:if(!(t<4)){n.next=12;break}return n.next=6,e.delay(500);case 6:if(!e.$refs["myid"]){n.next=9;break}return console.log(e.$refs["myid"]),n.abrupt("break",12);case 9:t++,n.next=3;break;case 12:r=e.$refs["myid"],Math.max(document.body.scrollTop,document.documentElement.scrollTop),o=e,new daum.Postcode({oncomplete:function(e){if(console.log("complete",e),o.dialog=!1,e.address){var n=new kakao.maps.services.Geocoder;n.addressSearch(e.address,(function(n,t){if(t===kakao.maps.services.Status.OK){var r=new kakao.maps.LatLng(n[0].y,n[0].x);o.setCenterByCoord(r,e.address)}}))}},onresize:function(e){r.style.height=e.height+"px"},width:"100%",height:"100%"}).embed(r);case 16:case"end":return n.stop()}}),n)})))()},foldDaumPostcode:function(){this.dialog=!1},getBoundInfo:function(e){var n=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var r,o,s,c,i,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n.getInfo(e),r=e.getBounds(),o=n.map.getCenter(),console.log("center",o),t.next=6,n.searchAddrFromCoords(o);case 6:if(s=t.sent,c=s.region_1depth_name+" "+s.region_2depth_name,console.log("promise",c),i=0,n.cacheTime&&(i=Math.abs(new Date-n.cacheTime),console.log("diff time",i)),n.lastAddress==c&&n.cacheTime&&!(i>=1e4)){t.next=29;break}return console.log("다른 주소"),t.prev=13,t.next=16,a()({method:"GET",url:"https://8oi9s0nnth.apigw.ntruss.com/corona19-masks/v1/storesByAddr/json?address="+c,params:{page:1,pagesize:5},timeout:5e3});case 16:l=t.sent,t.next=23;break;case 19:t.prev=19,t.t0=t["catch"](13),console.log("네트워크 오류"),n.snackbar=!0;case 23:console.log(l),console.log(r.ja,r.ea),console.log(r.ka,r.la),l&&l.data?l.data&&l.data.stores&&(n.stores=l.data.stores,n.lastAddress=c,n.cacheTime=new Date):(console.log("판매점 데이터를 가지고 오는데 실패하였습니다."),n.snackbar=!0),t.next=30;break;case 29:console.log("같은주소");case 30:return u=n.stores.filter((function(e){var n=r.ja>=e.lng&&e.lng>=r.ea&&r.ka>=e.lat&&e.lat>=r.la&&"empty"!=e.remain_stat&&null!=e.remain_stat;return n})),console.log(u),n.markers.forEach((function(e){e.setMap(null)})),n.markers=[],u.forEach((function(t){var r=new kakao.maps.LatLng(t.lat,t.lng),o=new kakao.maps.Marker({position:r});n.markers.push(o),o.setMap(e);var a='<div style="padding:3px;font-size:13px;"><span style="background-color: '.concat(n.remainStatusColor(t.remain_stat),';">&nbsp;&nbsp;&nbsp;&nbsp;</span> ').concat(t.name,"  <br/> <strong>").concat(n.remainStatus(t.remain_stat),"</strong></div>"),s=new kakao.maps.LatLng(t.lat,t.lng),c=new kakao.maps.InfoWindow({position:s,content:a});c.open(e,o),n.infoWindows.push(c)})),t.abrupt("return",u);case 36:case"end":return t.stop()}}),t,null,[[13,19]])})))()},clearMarker:function(){console.log("delete marker"),this.markers.forEach((function(e){e.setMap(null)})),this.markers=[],console.log("delete info"),this.infoWindows.forEach((function(e){e.close()})),this.markers=[]},remainStatus:function(e){return"plenty"==e?"재고 여유있음":"some"==e?"재고 보통":"few"==e?"재고 적음":""},remainStatusColor:function(e){return"plenty"==e?"green":"some"==e?"yellow":"few"==e?"gray":""},boundChanged:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function n(){var t,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("boundChanged"),t=e.map.getLevel(),console.log("map level: "+t),n.next=5,e.getBoundInfo(e.map);case 5:r=n.sent,console.log("bound move:",r);case 7:case"end":return n.stop()}}),n)})))()},getInfo:function(e){var n=e.getCenter(),t=e.getLevel(),r=e.getMapTypeId(),o=e.getBounds(),a=o.getSouthWest(),s=o.getNorthEast(),c=(o.toString(),"지도 중심좌표는 위도 "+n.getLat()+", <br>");c+="경도 "+n.getLng()+" 이고 <br>",c+="지도 레벨은 "+t+" 입니다 <br> <br>",c+="지도 타입은 "+r+" 이고 <br> ",c+="지도의 남서쪽 좌표는 "+a.getLat()+", "+a.getLng()+" 이고 <br>",c+="북동쪽 좌표는 "+s.getLat()+", "+s.getLng()+" 입니다",console.log(c),console.log(o)},searchAddrFromCoords:function(e){var n=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){n.geocoder.coord2RegionCode(e.getLng(),e.getLat(),(function(e,n){"OK"==n?t(e[1]?e[1]:e[0]):r(e)}))})));case 1:case"end":return t.stop()}}),t)})))()}}},m=g,v=(t("57f6"),t("2877")),b=t("6544"),h=t.n(b),w=t("8336"),k=t("b0af"),y=t("99d9"),x=t("169a"),C=t("0789"),_=t("132d"),j=t("2db4"),O=t("2fa4"),L=t("71d9"),T=t("2a7f"),M=Object(v["a"])(m,u,d,!1,null,"3a7139b2",null),R=M.exports;h()(M,{VBtn:w["a"],VCard:k["a"],VCardText:y["a"],VCardTitle:y["b"],VDialog:x["a"],VFabTransition:C["a"],VIcon:_["a"],VSnackbar:j["a"],VSpacer:O["a"],VToolbar:L["a"],VToolbarItems:T["a"],VToolbarTitle:T["b"]});var S={name:"App",components:{HelloWorld:R},data:function(){return{}},methods:{showSearch:function(){this.$refs.helloworld.showAddress()}}},I=S,V=(t("c9d1"),t("7496")),P=t("40dc"),A=t("a523"),B=t("a75b"),W=Object(v["a"])(I,i,l,!1,null,"a69f1070",null),$=W.exports;h()(W,{VApp:V["a"],VAppBar:P["a"],VBtn:w["a"],VContainer:A["a"],VContent:B["a"],VIcon:_["a"],VSpacer:O["a"]});var E=t("f309");r["a"].use(E["a"]);var G=new E["a"]({});r["a"].config.productionTip=!1,new r["a"]({vuetify:G,render:function(e){return e($)}}).$mount("#app")},"57f6":function(e,n,t){"use strict";var r=t("c43f"),o=t.n(r);o.a},"8c58":function(e,n,t){},c43f:function(e,n,t){},c9d1:function(e,n,t){"use strict";var r=t("8c58"),o=t.n(r);o.a}});
//# sourceMappingURL=app.c593f575.js.map